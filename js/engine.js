var totalObjects=0;function scheduleUpdate(_0x5e5ex2= 0,_0x5e5ex3= 100,_0x5e5ex4){if(_0x5e5ex2){for(var _0x5e5ex5=0;_0x5e5ex5< _0x5e5ex2;_0x5e5ex5++){setTimeout(update,10+ 50* _0x5e5ex5)}};if(willBeUpdated){return};if(_0x5e5ex4){setTimeout(function(){_0x5e5ex4();update()},_0x5e5ex3)}else {setTimeout(update,_0x5e5ex3)};willBeUpdated= true}function update(_0x5e5ex7= globalScope){willBeUpdated= false;if(loading== true){return};var _0x5e5ex8=false;simulationArea["hover"]= undefined;if(wireToBeChecked){if(wireToBeChecked== 2){wireToBeChecked= 0}else {wireToBeChecked++};var _0x5e5ex9=_0x5e5ex7["wires"]["length"];for(var _0x5e5ex5=0;_0x5e5ex5< _0x5e5ex7["wires"]["length"];_0x5e5ex5++){_0x5e5ex7["wires"][_0x5e5ex5]["checkConnections"]();if(_0x5e5ex7["wires"]["length"]!= _0x5e5ex9){_0x5e5ex9--;_0x5e5ex5--}};scheduleUpdate()};if(updatePosition){for(var _0x5e5ex5=0;_0x5e5ex5< _0x5e5ex7["objects"]["length"];_0x5e5ex5++){for(var _0x5e5exa=0;_0x5e5exa< _0x5e5ex7[_0x5e5ex7["objects"][_0x5e5ex5]]["length"];_0x5e5exa++){_0x5e5ex8|= _0x5e5ex7[_0x5e5ex7["objects"][_0x5e5ex5]][_0x5e5exa]["update"]()}}};if(updatePosition){};if(updatePosition){updateSelectionsAndPane(_0x5e5ex7)};if(!embed&& simulationArea["mouseDown"] && simulationArea["lastSelected"] && simulationArea["lastSelected"]!= globalScope["root"]){$("#miniMap")["fadeOut"]("fast")};if(updateSimulation){play()};if(!embed&& prevPropertyObj!= simulationArea["lastSelected"]){if(simulationArea["lastSelected"]&& simulationArea["lastSelected"]["objectType"]!== "Wire"){showProperties(simulationArea["lastSelected"])}else {}};if(updateCanvas){renderCanvas(_0x5e5ex7)};updateSimulation= updateCanvas= updatePosition= false}function findDimensions(_0x5e5ex7= globalScope){totalObjects= 0;simulationArea["minWidth"]= undefined;simulationArea["maxWidth"]= undefined;simulationArea["minHeight"]= undefined;simulationArea["maxHeight"]= undefined;for(var _0x5e5ex5=0;_0x5e5ex5< _0x5e5ex7["objects"]["length"];_0x5e5ex5++){if(_0x5e5ex7["objects"][_0x5e5ex5]!== "wires"){for(var _0x5e5exa=0;_0x5e5exa< _0x5e5ex7[_0x5e5ex7["objects"][_0x5e5ex5]]["length"];_0x5e5exa++){totalObjects+= 1;var _0x5e5exc=_0x5e5ex7[_0x5e5ex7["objects"][_0x5e5ex5]][_0x5e5exa];if(totalObjects== 1){simulationArea["minWidth"]= _0x5e5exc["absX"]();simulationArea["minHeight"]= _0x5e5exc["absY"]();simulationArea["maxWidth"]= _0x5e5exc["absX"]();simulationArea["maxHeight"]= _0x5e5exc["absY"]()};if(_0x5e5exc["objectType"]!= "Node"){if(_0x5e5exc["y"]- _0x5e5exc["upDimensionY"]< simulationArea["minHeight"]){simulationArea["minHeight"]= _0x5e5exc["y"]- _0x5e5exc["upDimensionY"]};if(_0x5e5exc["y"]+ _0x5e5exc["downDimensionY"]> simulationArea["maxHeight"]){simulationArea["maxHeight"]= _0x5e5exc["y"]+ _0x5e5exc["downDimensionY"]};if(_0x5e5exc["x"]- _0x5e5exc["leftDimensionX"]< simulationArea["minWidth"]){simulationArea["minWidth"]= _0x5e5exc["x"]- _0x5e5exc["leftDimensionX"]};if(_0x5e5exc["x"]+ _0x5e5exc["rightDimensionX"]> simulationArea["maxWidth"]){simulationArea["maxWidth"]= _0x5e5exc["x"]+ _0x5e5exc["rightDimensionX"]}}else {if(_0x5e5exc["absY"]()< simulationArea["minHeight"]){simulationArea["minHeight"]= _0x5e5exc["absY"]()};if(_0x5e5exc["absY"]()> simulationArea["maxHeight"]){simulationArea["maxHeight"]= _0x5e5exc["absY"]()};if(_0x5e5exc["absX"]()< simulationArea["minWidth"]){simulationArea["minWidth"]= _0x5e5exc["absX"]()};if(_0x5e5exc["absX"]()> simulationArea["maxWidth"]){simulationArea["maxWidth"]= _0x5e5exc["absX"]()}}}}};simulationArea["objectList"]= _0x5e5ex7["objects"]}function updateSelectionsAndPane(_0x5e5ex7= globalScope){if(!simulationArea["selected"]&& simulationArea["mouseDown"]){simulationArea["selected"]= true;simulationArea["lastSelected"]= _0x5e5ex7["root"];simulationArea["hover"]= _0x5e5ex7["root"];if(simulationArea["shiftDown"]){objectSelection= true}else {if(!embed){findDimensions(_0x5e5ex7);miniMapArea["setup"]();$("#miniMap")["show"]()}}}else {if(simulationArea["lastSelected"]== _0x5e5ex7["root"]&& simulationArea["mouseDown"]){if(!objectSelection){globalScope["ox"]= (simulationArea["mouseRawX"]- simulationArea["mouseDownRawX"])+ simulationArea["oldx"];globalScope["oy"]= (simulationArea["mouseRawY"]- simulationArea["mouseDownRawY"])+ simulationArea["oldy"];globalScope["ox"]= Math["round"](globalScope["ox"]);globalScope["oy"]= Math["round"](globalScope["oy"]);gridUpdate= true;if(!embed){miniMapArea["setup"]()}}else {}}else {if(simulationArea["lastSelected"]== _0x5e5ex7["root"]){simulationArea["lastSelected"]= undefined;simulationArea["selected"]= false;simulationArea["hover"]= undefined;if(objectSelection){objectSelection= false;var _0x5e5exe=simulationArea["mouseDownX"];var _0x5e5exf=simulationArea["mouseX"];var _0x5e5ex10=simulationArea["mouseDownY"];var _0x5e5ex11=simulationArea["mouseY"];if(_0x5e5exe> _0x5e5exf){var _0x5e5ex12=_0x5e5exe;_0x5e5exe= _0x5e5exf;_0x5e5exf= _0x5e5ex12};if(_0x5e5ex10> _0x5e5ex11){var _0x5e5ex12=_0x5e5ex10;_0x5e5ex10= _0x5e5ex11;_0x5e5ex11= _0x5e5ex12};for(var _0x5e5ex5=0;_0x5e5ex5< _0x5e5ex7["objects"]["length"];_0x5e5ex5++){for(var _0x5e5exa=0;_0x5e5exa< _0x5e5ex7[_0x5e5ex7["objects"][_0x5e5ex5]]["length"];_0x5e5exa++){var _0x5e5exc=_0x5e5ex7[_0x5e5ex7["objects"][_0x5e5ex5]][_0x5e5exa];if(simulationArea["multipleObjectSelections"]["contains"](_0x5e5exc)){continue};var _0x5e5ex13,_0x5e5ex14;if(_0x5e5exc["objectType"]== "Node"){_0x5e5ex13= _0x5e5exc["absX"]();_0x5e5ex14= _0x5e5exc["absY"]()}else {if(_0x5e5exc["objectType"]!= "Wire"){_0x5e5ex13= _0x5e5exc["x"];_0x5e5ex14= _0x5e5exc["y"]}else {continue}};if(_0x5e5ex13> _0x5e5exe&& _0x5e5ex13< _0x5e5exf&& _0x5e5ex14> _0x5e5ex10&& _0x5e5ex14< _0x5e5ex11){simulationArea["multipleObjectSelections"]["push"](_0x5e5exc)}}}}}}}}function renderCanvas(_0x5e5ex7){var _0x5e5ex16=simulationArea["context"];simulationArea["clear"]();if(gridUpdate){gridUpdate= false;dots()};canvasMessageData= undefined;for(var _0x5e5ex5=0;_0x5e5ex5< _0x5e5ex7["objects"]["length"];_0x5e5ex5++){for(var _0x5e5exa=0;_0x5e5exa< _0x5e5ex7[_0x5e5ex7["objects"][_0x5e5ex5]]["length"];_0x5e5exa++){_0x5e5ex7[_0x5e5ex7["objects"][_0x5e5ex5]][_0x5e5exa]["draw"]()}};if(canvasMessageData){canvasMessage(_0x5e5ex16,canvasMessageData["string"],canvasMessageData["x"],canvasMessageData["y"])};if(objectSelection){_0x5e5ex16["beginPath"]();_0x5e5ex16["lineWidth"]= 2;_0x5e5ex16["strokeStyle"]= "black";_0x5e5ex16["fillStyle"]= "rgba(0,0,0,0.1)";rect2(_0x5e5ex16,simulationArea["mouseDownX"],simulationArea["mouseDownY"],simulationArea["mouseX"]- simulationArea["mouseDownX"],simulationArea["mouseY"]- simulationArea["mouseDownY"],0,0,"RIGHT");_0x5e5ex16["stroke"]();_0x5e5ex16["fill"]()}}function play(_0x5e5ex7= globalScope,_0x5e5ex18= true){if(errorDetected){return};if(loading== true){return};if(!embed){plotArea["stopWatch"].Stop()};if(_0x5e5ex18){for(var _0x5e5ex5=0;_0x5e5ex5< _0x5e5ex7["allNodes"]["length"];_0x5e5ex5++){_0x5e5ex7["allNodes"][_0x5e5ex5]["reset"]()};for(var _0x5e5ex5=0;_0x5e5ex5< _0x5e5ex7["SubCircuit"]["length"];_0x5e5ex5++){_0x5e5ex7["SubCircuit"][_0x5e5ex5]["reset"]()}};for(var _0x5e5ex5=0;_0x5e5ex5< _0x5e5ex7["SubCircuit"]["length"];_0x5e5ex5++){if(_0x5e5ex7["SubCircuit"][_0x5e5ex5]["isResolvable"]()){_0x5e5ex7["stack"]["push"](_0x5e5ex7["SubCircuit"][_0x5e5ex5])}};for(var _0x5e5ex5=0;_0x5e5ex5< inputList["length"];_0x5e5ex5++){for(var _0x5e5exa=0;_0x5e5exa< _0x5e5ex7[inputList[_0x5e5ex5]]["length"];_0x5e5exa++){_0x5e5ex7["stack"]["push"](_0x5e5ex7[inputList[_0x5e5ex5]][_0x5e5exa])}};var _0x5e5ex19=0;while(_0x5e5ex7["stack"]["length"]){if(errorDetected){return};var _0x5e5ex1a=_0x5e5ex7["stack"]["pop"]();_0x5e5ex1a["resolve"]();_0x5e5ex19++;if(_0x5e5ex19> 1000){showError("Simulation Stack limit exceeded: maybe due to cyclic paths or contention");return}};for(var _0x5e5ex5=0;_0x5e5ex5< _0x5e5ex7["Flag"]["length"];_0x5e5ex5++){_0x5e5ex7["Flag"][_0x5e5ex5]["setPlotValue"]()}}
