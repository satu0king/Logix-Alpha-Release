function changeScale(_0x5205x1,_0x5205x2,_0x5205x3,_0x5205x4= 1){if(_0x5205x2=== undefined|| _0x5205x3=== undefined|| _0x5205x2== "zoomButton"|| _0x5205x3== "zoomButton"){if(simulationArea["lastSelected"]){_0x5205x2= simulationArea["lastSelected"]["x"];_0x5205x3= simulationArea["lastSelected"]["y"]}else {if(_0x5205x4== 1){_0x5205x2= simulationArea["mouseX"];_0x5205x3= simulationArea["mouseY"]}else {if(_0x5205x4== 2){_0x5205x2= (width/ 2- globalScope["ox"])/ globalScope["scale"];_0x5205x3= (height/ 2- globalScope["oy"])/ globalScope["scale"]}}}};var _0x5205x5=globalScope["scale"];globalScope["scale"]= Math["max"](0.5,Math["min"](4* DPR,globalScope["scale"]+ _0x5205x1));globalScope["scale"]= Math["round"](globalScope["scale"]* 10)/ 10;globalScope["ox"]-= Math["round"](_0x5205x2* (globalScope["scale"]- _0x5205x5));globalScope["oy"]-= Math["round"](_0x5205x3* (globalScope["scale"]- _0x5205x5));dots(true,false);if(!embed){findDimensions(globalScope);miniMapArea["setup"]();$("#miniMap")["show"]();lastMiniMapShown=  new Date()["getTime"]();$("#miniMap")["show"]();setTimeout(removeMiniMap,2000)}}function dots(dots= true,_0x5205x7= false){var _0x5205x8=unit* globalScope["scale"];var _0x5205x9=globalScope["ox"]% _0x5205x8;var _0x5205xa=globalScope["oy"]% _0x5205x8;document["getElementById"]("backgroundArea")["style"]["left"]= (_0x5205x9- _0x5205x8)/ DPR;document["getElementById"]("backgroundArea")["style"]["top"]= (_0x5205xa- _0x5205x8)/ DPR;if(globalScope["scale"]== simulationArea["prevScale"]){return};if(!backgroundArea["context"]){return};simulationArea["prevScale"]= globalScope["scale"];var _0x5205xb=backgroundArea["canvas"]["width"];var _0x5205xc=backgroundArea["canvas"]["height"];var _0x5205xd=backgroundArea["context"];_0x5205xd["beginPath"]();backgroundArea["clear"]();_0x5205xd["strokeStyle"]= "#eee";_0x5205xd["lineWidth"]= 1;if(!_0x5205x7){_0x5205xd["fillStyle"]= "white";_0x5205xd["rect"](0,0,_0x5205xb,_0x5205xc);_0x5205xd["fill"]()};var _0x5205xe=0.5* (_0x5205xd["lineWidth"]% 2);for(var _0x5205xf=0;_0x5205xf< _0x5205xb;_0x5205xf+= _0x5205x8){_0x5205xd["moveTo"](Math["round"](_0x5205xf+ _0x5205xe)- _0x5205xe,0);_0x5205xd["lineTo"](Math["round"](_0x5205xf+ _0x5205xe)- _0x5205xe,_0x5205xc)};for(var _0x5205x10=0;_0x5205x10< _0x5205xc;_0x5205x10+= _0x5205x8){_0x5205xd["moveTo"](0,Math["round"](_0x5205x10+ _0x5205xe)- _0x5205xe);_0x5205xd["lineTo"](_0x5205xb,Math["round"](_0x5205x10+ _0x5205xe)- _0x5205xe)};_0x5205xd["stroke"]();return;function _0x5205x11(_0x5205x12,_0x5205x13,_0x5205x14,_0x5205x15,_0x5205x16,_0x5205x17){var _0x5205x18=(_0x5205x12+ _0x5205x13* _0x5205xb)* 4;_0x5205x19["data"][_0x5205x18+ 0]= _0x5205x14;_0x5205x19["data"][_0x5205x18+ 1]= _0x5205x15;_0x5205x19["data"][_0x5205x18+ 2]= _0x5205x16;_0x5205x19["data"][_0x5205x18+ 3]= _0x5205x17}if(dots){var _0x5205x19=_0x5205xd["getImageData"](0,0,_0x5205xb,_0x5205xc);for(var _0x5205xf=0+ _0x5205x9;_0x5205xf< _0x5205xb;_0x5205xf+= _0x5205x8){for(var _0x5205x10=0+ _0x5205xa;_0x5205x10< _0x5205xc;_0x5205x10+= _0x5205x8){_0x5205x11(_0x5205xf,_0x5205x10,0,0,0,255)}};_0x5205xd["putImageData"](_0x5205x19,0,0)}}function bezierCurveTo(_0x5205x1b,_0x5205x1c,_0x5205x1d,_0x5205x1e,_0x5205x1f,_0x5205x20,_0x5205x2,_0x5205x3,_0x5205x21){[_0x5205x1b,_0x5205x1c]= rotate(_0x5205x1b,_0x5205x1c,_0x5205x21);[_0x5205x1d,_0x5205x1e]= rotate(_0x5205x1d,_0x5205x1e,_0x5205x21);[_0x5205x1f,_0x5205x20]= rotate(_0x5205x1f,_0x5205x20,_0x5205x21);var _0x5205x9=globalScope["ox"];var _0x5205xa=globalScope["oy"];_0x5205x1b*= globalScope["scale"];_0x5205x1c*= globalScope["scale"];_0x5205x1d*= globalScope["scale"];_0x5205x1e*= globalScope["scale"];_0x5205x1f*= globalScope["scale"];_0x5205x20*= globalScope["scale"];_0x5205x2= _0x5205x2* globalScope["scale"];_0x5205x3= _0x5205x3* globalScope["scale"];ctx["bezierCurveTo"](Math["round"](_0x5205x2+ _0x5205x9+ _0x5205x1b),Math["round"](_0x5205x3+ _0x5205xa+ _0x5205x1c),Math["round"](_0x5205x2+ _0x5205x9+ _0x5205x1d),Math["round"](_0x5205x3+ _0x5205xa+ _0x5205x1e),Math["round"](_0x5205x2+ _0x5205x9+ _0x5205x1f),Math["round"](_0x5205x3+ _0x5205xa+ _0x5205x20))}function moveTo(_0x5205xd,_0x5205x1b,_0x5205x1c,_0x5205x2,_0x5205x3,_0x5205x21,_0x5205x23= false){var _0x5205xe=0.5* (_0x5205xd["lineWidth"]% 2);[newX,newY]= rotate(_0x5205x1b,_0x5205x1c,_0x5205x21);newX= newX* globalScope["scale"];newY= newY* globalScope["scale"];_0x5205x2= _0x5205x2* globalScope["scale"];_0x5205x3= _0x5205x3* globalScope["scale"];if(_0x5205x23){_0x5205xd["moveTo"](_0x5205x2+ globalScope["ox"]+ newX,_0x5205x3+ globalScope["oy"]+ newY)}else {_0x5205xd["moveTo"](Math["round"](_0x5205x2+ globalScope["ox"]+ newX- _0x5205xe)+ _0x5205xe,Math["round"](_0x5205x3+ globalScope["oy"]+ newY- _0x5205xe)+ _0x5205xe)}}function lineTo(_0x5205xd,_0x5205x1b,_0x5205x1c,_0x5205x2,_0x5205x3,_0x5205x21){var _0x5205xe=0.5* (_0x5205xd["lineWidth"]% 2);[newX,newY]= rotate(_0x5205x1b,_0x5205x1c,_0x5205x21);newX= newX* globalScope["scale"];newY= newY* globalScope["scale"];_0x5205x2= _0x5205x2* globalScope["scale"];_0x5205x3= _0x5205x3* globalScope["scale"];_0x5205xd["lineTo"](Math["round"](_0x5205x2+ globalScope["ox"]+ newX- _0x5205xe)+ _0x5205xe,Math["round"](_0x5205x3+ globalScope["oy"]+ newY- _0x5205xe)+ _0x5205xe)}function arc(_0x5205xd,_0x5205x26,_0x5205x27,_0x5205x28,_0x5205x29,_0x5205x2a,_0x5205x2,_0x5205x3,_0x5205x21){var _0x5205xe=0.5* (_0x5205xd["lineWidth"]% 2);[Sx,Sy]= rotate(_0x5205x26,_0x5205x27,_0x5205x21);Sx= Sx* globalScope["scale"];Sy= Sy* globalScope["scale"];_0x5205x2= _0x5205x2* globalScope["scale"];_0x5205x3= _0x5205x3* globalScope["scale"];_0x5205x28*= globalScope["scale"];[newStart,newStop,counterClock]= rotateAngle(_0x5205x29,_0x5205x2a,_0x5205x21);_0x5205xd["arc"](Math["round"](_0x5205x2+ globalScope["ox"]+ Sx+ _0x5205xe)- _0x5205xe,Math["round"](_0x5205x3+ globalScope["oy"]+ Sy+ _0x5205xe)- _0x5205xe,Math["round"](_0x5205x28),newStart,newStop,counterClock)}function arc2(_0x5205xd,_0x5205x26,_0x5205x27,_0x5205x28,_0x5205x29,_0x5205x2a,_0x5205x2,_0x5205x3,_0x5205x21){var _0x5205xe=0.5* (_0x5205xd["lineWidth"]% 2);[Sx,Sy]= rotate(_0x5205x26,_0x5205x27,_0x5205x21);Sx= Sx* globalScope["scale"];Sy= Sy* globalScope["scale"];_0x5205x2= _0x5205x2* globalScope["scale"];_0x5205x3= _0x5205x3* globalScope["scale"];_0x5205x28*= globalScope["scale"];[newStart,newStop,counterClock]= rotateAngle(_0x5205x29,_0x5205x2a,_0x5205x21);var _0x5205x2c=0;if(counterClock){_0x5205x2c= Math["PI"]};_0x5205xd["arc"](Math["round"](_0x5205x2+ globalScope["ox"]+ Sx+ _0x5205xe)- _0x5205xe,Math["round"](_0x5205x3+ globalScope["oy"]+ Sy+ _0x5205xe)- _0x5205xe,Math["round"](_0x5205x28),newStart+ _0x5205x2c,newStop+ _0x5205x2c)}function drawCircle2(_0x5205xd,_0x5205x26,_0x5205x27,_0x5205x28,_0x5205x2,_0x5205x3,_0x5205x21){[Sx,Sy]= rotate(_0x5205x26,_0x5205x27,_0x5205x21);Sx= Sx* globalScope["scale"];Sy= Sy* globalScope["scale"];_0x5205x2= _0x5205x2* globalScope["scale"];_0x5205x3= _0x5205x3* globalScope["scale"];_0x5205x28*= globalScope["scale"];_0x5205xd["arc"](Math["round"](_0x5205x2+ globalScope["ox"]+ Sx),Math["round"](_0x5205x3+ globalScope["oy"]+ Sy),Math["round"](_0x5205x28),0,2* Math["PI"])}function rect(_0x5205xd,_0x5205x1b,_0x5205x1c,_0x5205x1d,_0x5205x1e){var _0x5205xe=0.5* (_0x5205xd["lineWidth"]% 2);_0x5205x1b= _0x5205x1b* globalScope["scale"];_0x5205x1c= _0x5205x1c* globalScope["scale"];_0x5205x1d= _0x5205x1d* globalScope["scale"];_0x5205x1e= _0x5205x1e* globalScope["scale"];_0x5205xd["rect"](Math["round"](globalScope["ox"]+ _0x5205x1b- _0x5205xe)+ _0x5205xe,Math["round"](globalScope["oy"]+ _0x5205x1c- _0x5205xe)+ _0x5205xe,Math["round"](_0x5205x1d),Math["round"](_0x5205x1e))}function rect2(_0x5205xd,_0x5205x1b,_0x5205x1c,_0x5205x1d,_0x5205x1e,_0x5205x2,_0x5205x3,_0x5205x21= "RIGHT"){var _0x5205xe=0.5* (_0x5205xd["lineWidth"]% 2);[_0x5205x1b,_0x5205x1c]= rotate(_0x5205x1b,_0x5205x1c,_0x5205x21);[_0x5205x1d,_0x5205x1e]= rotate(_0x5205x1d,_0x5205x1e,_0x5205x21);_0x5205x1b= _0x5205x1b* globalScope["scale"];_0x5205x1c= _0x5205x1c* globalScope["scale"];_0x5205x1d= _0x5205x1d* globalScope["scale"];_0x5205x1e= _0x5205x1e* globalScope["scale"];_0x5205x2*= globalScope["scale"];_0x5205x3*= globalScope["scale"];_0x5205xd["rect"](Math["round"](globalScope["ox"]+ _0x5205x2+ _0x5205x1b- _0x5205xe)+ _0x5205xe,Math["round"](globalScope["oy"]+ _0x5205x3+ _0x5205x1c- _0x5205xe)+ _0x5205xe,Math["round"](_0x5205x1d),Math["round"](_0x5205x1e))}function rotate(_0x5205x1b,_0x5205x1c,_0x5205x21){if(_0x5205x21== "LEFT"){return [-_0x5205x1b,_0x5205x1c]}else {if(_0x5205x21== "DOWN"){return [_0x5205x1c,_0x5205x1b]}else {if(_0x5205x21== "UP"){return [_0x5205x1c,-_0x5205x1b]}else {return [_0x5205x1b,_0x5205x1c]}}}}function correctWidth(_0x5205x32){return Math["max"](1,Math["round"](_0x5205x32* globalScope["scale"]))}function rotateAngle(_0x5205x29,_0x5205x2a,_0x5205x21){if(_0x5205x21== "LEFT"){return [_0x5205x29,_0x5205x2a,true]}else {if(_0x5205x21== "DOWN"){return [_0x5205x29- Math["PI"]/ 2,_0x5205x2a- Math["PI"]/ 2,true]}else {if(_0x5205x21== "UP"){return [_0x5205x29- Math["PI"]/ 2,_0x5205x2a- Math["PI"]/ 2,false]}else {return [_0x5205x29,_0x5205x2a,false]}}}}function drawLine(_0x5205xd,_0x5205x1b,_0x5205x1c,_0x5205x1d,_0x5205x1e,_0x5205x35,_0x5205x36){_0x5205x1b*= globalScope["scale"];_0x5205x1c*= globalScope["scale"];_0x5205x1d*= globalScope["scale"];_0x5205x1e*= globalScope["scale"];_0x5205xd["beginPath"]();_0x5205xd["strokeStyle"]= _0x5205x35;_0x5205xd["lineCap"]= "round";_0x5205xd["lineWidth"]= correctWidth(_0x5205x36);var _0x5205xe=0.5* (_0x5205xd["lineWidth"]% 2);var _0x5205x37=0;var _0x5205x38=0;if(_0x5205x1c== _0x5205x1e){_0x5205x38= _0x5205xe};if(_0x5205x1b== _0x5205x1d){_0x5205x37= _0x5205xe};_0x5205xd["moveTo"](Math["round"](_0x5205x1b+ globalScope["ox"]+ _0x5205x37)- _0x5205x37,Math["round"](_0x5205x1c+ globalScope["oy"]+ _0x5205x38)- _0x5205x38);_0x5205xd["lineTo"](Math["round"](_0x5205x1d+ globalScope["ox"]+ _0x5205x37)- _0x5205x37,Math["round"](_0x5205x1e+ globalScope["oy"]+ _0x5205x38)- _0x5205x38);_0x5205xd["stroke"]()}function drawCircle(_0x5205xd,_0x5205x1b,_0x5205x1c,_0x5205x14,_0x5205x35){_0x5205x1b= _0x5205x1b* globalScope["scale"];_0x5205x1c= _0x5205x1c* globalScope["scale"];_0x5205xd["beginPath"]();_0x5205xd["fillStyle"]= _0x5205x35;_0x5205xd["arc"](Math["round"](_0x5205x1b+ globalScope["ox"]),Math["round"](_0x5205x1c+ globalScope["oy"]),Math["round"](_0x5205x14* globalScope["scale"]),0,Math["PI"]* 2,false);_0x5205xd["closePath"]();_0x5205xd["fill"]()}function canvasMessage(_0x5205xd,_0x5205x3b,_0x5205x1b,_0x5205x1c,_0x5205x3c= 10){if(!_0x5205x3b||  !_0x5205x3b["length"]){return};_0x5205xd["font"]= Math["round"](_0x5205x3c* globalScope["scale"])+ "px Georgia";_0x5205xd["textAlign"]= "center";var _0x5205x36=_0x5205xd["measureText"](_0x5205x3b)["width"]/ globalScope["scale"]+ 8;var _0x5205x3d=13;_0x5205xd["strokeStyle"]= "black";_0x5205xd["lineWidth"]= correctWidth(1);_0x5205xd["fillStyle"]= "yellow";console["log"](_0x5205x36,_0x5205x3d);_0x5205xd["save"]();_0x5205xd["beginPath"]();rect(_0x5205xd,_0x5205x1b- _0x5205x36/ 2,_0x5205x1c- _0x5205x3d/ 2- 3,_0x5205x36,_0x5205x3d);_0x5205xd["shadowColor"]= "#999";_0x5205xd["shadowBlur"]= 10;_0x5205xd["shadowOffsetX"]= 3;_0x5205xd["shadowOffsetY"]= 3;_0x5205xd["stroke"]();_0x5205xd["fill"]();_0x5205xd["restore"]();_0x5205x1b= _0x5205x1b* globalScope["scale"];_0x5205x1c= _0x5205x1c* globalScope["scale"];_0x5205xd["beginPath"]();_0x5205xd["fillStyle"]= "black";_0x5205xd["fillText"](_0x5205x3b,Math["round"](_0x5205x1b+ globalScope["ox"]),Math["round"](_0x5205x1c+ globalScope["oy"]));_0x5205xd["fill"]()}function fillText(_0x5205xd,_0x5205x3b,_0x5205x1b,_0x5205x1c,_0x5205x3c= 20){_0x5205x1b= _0x5205x1b* globalScope["scale"];_0x5205x1c= _0x5205x1c* globalScope["scale"];_0x5205xd["font"]= Math["round"](_0x5205x3c* globalScope["scale"])+ "px Georgia";_0x5205xd["fillText"](_0x5205x3b,Math["round"](_0x5205x1b+ globalScope["ox"]),Math["round"](_0x5205x1c+ globalScope["oy"]))}function fillText2(_0x5205xd,_0x5205x3b,_0x5205x1b,_0x5205x1c,_0x5205x2,_0x5205x3,_0x5205x21){angle= {"RIGHT":0,"LEFT":0,"DOWN":Math["PI"]/ 2,"UP":-Math["PI"]/ 2};_0x5205x1b= _0x5205x1b* globalScope["scale"];_0x5205x1c= _0x5205x1c* globalScope["scale"];[_0x5205x1b,_0x5205x1c]= rotate(_0x5205x1b,_0x5205x1c,_0x5205x21);_0x5205x2= _0x5205x2* globalScope["scale"];_0x5205x3= _0x5205x3* globalScope["scale"];_0x5205xd["font"]= Math["round"](14* globalScope["scale"])+ "px Georgia";_0x5205xd["save"]();_0x5205xd["translate"](Math["round"](_0x5205x2+ _0x5205x1b+ globalScope["ox"]),Math["round"](_0x5205x3+ _0x5205x1c+ globalScope["oy"]));_0x5205xd["rotate"](angle[_0x5205x21]);_0x5205xd["textAlign"]= "center";_0x5205xd["fillText"](_0x5205x3b,0,Math["round"](4* globalScope["scale"])* (1- 0* (+(_0x5205x21== "DOWN"))));_0x5205xd["restore"]()}function fillText4(_0x5205xd,_0x5205x3b,_0x5205x1b,_0x5205x1c,_0x5205x2,_0x5205x3,_0x5205x21,_0x5205x3c= 14,_0x5205x41= "center"){angle= {"RIGHT":0,"LEFT":0,"DOWN":Math["PI"]/ 2,"UP":-Math["PI"]/ 2};_0x5205x1b= _0x5205x1b* globalScope["scale"];_0x5205x1c= _0x5205x1c* globalScope["scale"];[_0x5205x1b,_0x5205x1c]= rotate(_0x5205x1b,_0x5205x1c,_0x5205x21);_0x5205x2= _0x5205x2* globalScope["scale"];_0x5205x3= _0x5205x3* globalScope["scale"];_0x5205xd["font"]= Math["round"](_0x5205x3c* globalScope["scale"])+ "px Georgia";_0x5205xd["textAlign"]= _0x5205x41;_0x5205xd["fillText"](_0x5205x3b,_0x5205x2+ _0x5205x1b+ globalScope["ox"],_0x5205x3+ _0x5205x1c+ globalScope["oy"]+ Math["round"](_0x5205x3c/ 3* globalScope["scale"]))}function fillText3(_0x5205xd,_0x5205x3b,_0x5205x1b,_0x5205x1c,_0x5205x2= 0,_0x5205x3= 0,_0x5205x3c= 14,_0x5205x43= "Georgia",_0x5205x41= "center"){_0x5205x1b= _0x5205x1b* globalScope["scale"];_0x5205x1c= _0x5205x1c* globalScope["scale"];_0x5205x2= _0x5205x2* globalScope["scale"];_0x5205x3= _0x5205x3* globalScope["scale"];_0x5205xd["font"]= Math["round"](_0x5205x3c* globalScope["scale"])+ "px "+ _0x5205x43;_0x5205xd["textAlign"]= _0x5205x41;_0x5205xd["fillText"](_0x5205x3b,Math["round"](_0x5205x2+ _0x5205x1b+ globalScope["ox"]),Math["round"](_0x5205x3+ _0x5205x1c+ globalScope["oy"]))}oppositeDirection= {"RIGHT":"LEFT","LEFT":"RIGHT","DOWN":"UP","UP":"DOWN"};fixDirection= {"right":"LEFT","left":"RIGHT","down":"UP","up":"DOWN","LEFT":"LEFT","RIGHT":"RIGHT","UP":"UP","DOWN":"DOWN"}
